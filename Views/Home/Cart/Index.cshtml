@{
    ViewBag.Title = "Cart";
}

<h1>Shopping Cart</h1>

<div class="card">
    <div class="card-header">
        <h5 class="card-title">PC_MODEL_ID: @Model.PC_MODEL_ID</h5>
    </div>
    <div class="card-body">
        <h6 class="card-subtitle mb-2 text-muted">PC_MODEL_NAME: @Model.PC_MODEL_NAME</h6>
        <p class="card-text">PC_MODEL_DESCRIPTION: @Model.PC_MODEL_DESCRIPTION</p>
        <p class="card-text">MODEL_PRICE: @Model.MODEL_PRICE</p>
        <p class="card-text">QUANTITY: @Model.QUANTITY</p>
    </div>
</div>

<div class="form-group mt-3">
    <label for="quantity">Quantity:</label>
    <input type="number" class="form-control" id="quantity" name="quantity" min="1" value="@Model.quantity">
</div>

<div class="mt-3">
    <button class="btn btn-primary" onclick="updateCart()">Update Cart</button>
    <button class="btn btn-danger" onclick="clearCart()">Clear Cart</button>
</div>

<script>
    // Get the PC model details from the Model object
    var pcModel = {
        id: '@Model.PC_MODEL_ID',
        name: '@Model.PC_MODEL_NAME',
        description: '@Model.PC_MODEL_DESCRIPTION',
        price: '@Model.MODEL_PRICE',
        quantity: '@Model.QUANTITY'
    };

    // Populate the model details on the page
    document.title = 'Shopping Cart - ' + pcModel.name;
    document.getElementById('quantity').value = pcModel.quantity;

    function updateCart() {
        // Update the quantity of the PC model in pcModel object
        var quantity = document.getElementById('quantity').value;
        pcModel.quantity = quantity;

        // Update the pcModel object in sessionStorage
        sessionStorage.setItem('pcModel', JSON.stringify(pcModel));

        // Alert the user that the cart was updated
        alert('Cart updated!');
    }

    function clearCart() {
        // Clear the PC model from sessionStorage
        sessionStorage.removeItem('pcModel');

        // Redirect the user back to the PC model index page
        window.location.href = '@Url.Action("Index", "PcModel", new { seriesId = Model.PC_SERIES_ID })';
    }
</script>
